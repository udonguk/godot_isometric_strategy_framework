# ê±´ì„¤ ë©”ë‰´ UI ì¬ì„¤ê³„ (í•˜ë‹¨ ë°” - ëª¨ë°”ì¼ í˜¸í™˜)

## ğŸ“Œ ê°œìš”

ê¸°ì¡´ì˜ "B í‚¤ í† ê¸€ ë°©ì‹"ì—ì„œ **í•˜ë‹¨ ê³ ì • ë°” ë©”ë‰´**ë¡œ ë³€ê²½í•©ë‹ˆë‹¤. ëª¨ë°”ì¼ í™˜ê²½ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•œ ì§ê´€ì ì¸ UIë¥¼ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

### ë³€ê²½ ì´ìœ 

**ê¸°ì¡´ ë°©ì‹ (B í‚¤ í† ê¸€):**
- âŒ ë©”ë‰´ë¥¼ ì—´ì—ˆë‹¤ê°€ ë‹«ì•„ì•¼ í•¨ (ë¶ˆí¸)
- âŒ ë‹¨ì¶•í‚¤ë¥¼ ì™¸ì›Œì•¼ í•¨ (ëª¨ë°”ì¼ ë¶ˆê°€ëŠ¥)
- âŒ í™”ë©´ ì¤‘ì•™ì„ ê°€ë¦¼

**ìƒˆ ë°©ì‹ (í•˜ë‹¨ ê³ ì • ë°”):**
- âœ… ë©”ë‰´ê°€ í•­ìƒ í™”ë©´ í•˜ë‹¨ì— ë³´ì„ (ì ‘ê·¼ì„± ì¢‹ìŒ)
- âœ… í•„ìš”ì‹œ ì ‘ì–´ì„œ í™”ë©´ í™•ë³´
- âœ… í„°ì¹˜/í´ë¦­ìœ¼ë¡œ ì§ê´€ì ì¸ ì¡°ì‘
- âœ… **ëª¨ë°”ì¼ ê²Œì„ì˜ í‘œì¤€ UI ë ˆì´ì•„ì›ƒ**
- âœ… ì¹´ì´ë¡œ ì†Œí”„íŠ¸ ê²Œì„ê³¼ ìœ ì‚¬í•œ ì¹œìˆ™í•œ UX

---

## ğŸ¨ UI ë ˆì´ì•„ì›ƒ ì„¤ê³„

### í•˜ë‹¨ ë°” (Bottom Bar)

**í™”ë©´ í•˜ë‹¨ì— ê°€ë¡œ ë°°ì¹˜**

#### ì ‘íŒ ìƒíƒœ (ë†’ì´: 50px)

```
ê²Œì„ í™”ë©´:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚
â”‚                         â”‚
â”‚      ê²Œì„ ì›”ë“œ          â”‚
â”‚                         â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ê±´ì„¤ â–²               â”‚ â† ì ‘íŒ íƒ­ (ë†’ì´: 50px)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**íŠ¹ì§•:**
- í™”ë©´ í•˜ë‹¨ 50pxë§Œ ì°¨ì§€
- "ê±´ì„¤ â–²" ë²„íŠ¼ë§Œ í‘œì‹œ (íƒ­ í˜•íƒœ)
- ê²Œì„ í™”ë©´ ëŒ€ë¶€ë¶„ í™•ë³´

#### í¼ì³ì§„ ìƒíƒœ (ë†’ì´: 200px)

```
ê²Œì„ í™”ë©´:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚
â”‚      ê²Œì„ ì›”ë“œ          â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê±´ì„¤ ë©”ë‰´            â–¼ â”‚ â† í—¤ë” (ë†’ì´: 40px)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚ â† ê±´ë¬¼ ëª©ë¡ (ë†’ì´: 160px)
â”‚ ğŸ  ì£¼íƒ â”‚ ğŸŒ¾ ë†ì¥ â”‚ ğŸª ìƒì  â”‚
â”‚ ê¸ˆí™”100 â”‚ ê¸ˆí™”150 â”‚ ê¸ˆí™”200 â”‚
â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**íŠ¹ì§•:**
- í™”ë©´ í•˜ë‹¨ 200px ì°¨ì§€
- ê±´ë¬¼ ì•„ì´ì½˜ì„ ê°€ë¡œë¡œ ë‚˜ì—´ (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)
- ëª¨ë°”ì¼ì—ì„œ í„°ì¹˜í•˜ê¸° ì‰¬ìš´ í¬ê¸°

---

## ğŸ—ï¸ ë…¸ë“œ êµ¬ì¡°

```
ConstructionMenu (Control, Full Rect)
â”œâ”€â”€ CollapsedBar (Panel)  # ì ‘íŒ ìƒíƒœ ë°”
â”‚   â””â”€â”€ ExpandButton (Button, text: "ê±´ì„¤ â–²")
â””â”€â”€ ExpandedPanel (Panel)  # í¼ì³ì§„ ìƒíƒœ
    â”œâ”€â”€ Header (HBoxContainer)
    â”‚   â”œâ”€â”€ TitleLabel (Label, text: "ê±´ì„¤ ë©”ë‰´")
    â”‚   â””â”€â”€ CollapseButton (Button, text: "â–¼ ì ‘ê¸°")
    â””â”€â”€ Content (VBoxContainer)
        â””â”€â”€ ScrollContainer (ScrollContainer, horizontal)
            â””â”€â”€ BuildingList (HBoxContainer)  # ê°€ë¡œ ë°°ì¹˜!
                â”œâ”€â”€ HouseButton (Button)
                â”œâ”€â”€ FarmButton (Button)
                â”œâ”€â”€ ShopButton (Button)
                â””â”€â”€ RoadButton (Button)
```

### ë ˆì´ì•„ì›ƒ ì„¤ì •

#### CollapsedBar (ì ‘íŒ ë°”)
```gdscript
# Inspector ì„¤ì •:
- Layout: Bottom (Full Width)
- Anchor Left: 0
- Anchor Right: 1
- Anchor Top: 1
- Anchor Bottom: 1
- Offset Top: -50
- Offset Bottom: 0
- Size: (í™”ë©´ ë„ˆë¹„, 50)
- Visible: true (ì´ˆê¸° ìƒíƒœ)
```

#### ExpandedPanel (í¼ì³ì§„ íŒ¨ë„)
```gdscript
# Inspector ì„¤ì •:
- Layout: Bottom (Full Width)
- Anchor Left: 0
- Anchor Right: 1
- Anchor Top: 1
- Anchor Bottom: 1
- Offset Top: -200
- Offset Bottom: 0
- Size: (í™”ë©´ ë„ˆë¹„, 200)
- Visible: false (ì´ˆê¸° ìˆ¨ê¹€)
```

#### BuildingList (HBoxContainer)
```gdscript
# Inspector ì„¤ì •:
- Alignment: Begin
- Theme Overrides â†’ Constants â†’ Separation: 10
```

#### ScrollContainer
```gdscript
# Inspector ì„¤ì •:
- Horizontal Scroll: Enabled
- Vertical Scroll: Disabled
- Follow Focus: true
```

---

## ğŸ® ë™ì‘ ë°©ì‹

### 1. ì´ˆê¸° ìƒíƒœ

```
âœ“ CollapsedBar: ë³´ì„ (ì ‘íŒ ë°”ë§Œ, í•˜ë‹¨ 50px)
âœ— ExpandedPanel: ìˆ¨ê¹€
```

### 2. "ê±´ì„¤ â–²" ë²„íŠ¼ í´ë¦­/í„°ì¹˜ â†’ í¼ì¹¨

```gdscript
func _on_expand_button_pressed():
    collapsed_bar.visible = false
    expanded_panel.visible = true
    print("[UI] ë©”ë‰´ í¼ì¹¨")
```

**ê²°ê³¼:**
- ì ‘íŒ ë°” ì‚¬ë¼ì§
- í¼ì³ì§„ íŒ¨ë„ ë‚˜íƒ€ë‚¨ (í•˜ë‹¨ 200px)
- ë¶€ë“œëŸ¬ìš´ ìŠ¬ë¼ì´ë“œ ì• ë‹ˆë©”ì´ì…˜ (ì˜µì…˜)

### 3. ê±´ë¬¼ ë²„íŠ¼ í´ë¦­/í„°ì¹˜

```gdscript
func _on_house_button_pressed():
    var house_data = load("res://scripts/resources/house_01.tres") as BuildingData
    ConstructionManager.select_building(house_data)
    # â­ ë©”ë‰´ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ë‹«ì§€ ì•ŠìŒ)
    print("[UI] ì£¼íƒ ì„ íƒ")
```

**ê²°ê³¼:**
- ê±´ì„¤ ëª¨ë“œ ì§„ì… (ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ)
- ë©”ë‰´ëŠ” **í¼ì³ì§„ ìƒíƒœ ìœ ì§€** â†’ ë‹¤ë¥¸ ê±´ë¬¼ ë¹ ë¥´ê²Œ ì„ íƒ ê°€ëŠ¥

### 4. "â–¼ ì ‘ê¸°" ë²„íŠ¼ í´ë¦­/í„°ì¹˜ â†’ ì ‘í˜

```gdscript
func _on_collapse_button_pressed():
    expanded_panel.visible = false
    collapsed_bar.visible = true
    print("[UI] ë©”ë‰´ ì ‘í˜")
```

**ê²°ê³¼:**
- í¼ì³ì§„ íŒ¨ë„ ìˆ¨ê¹€
- ì ‘íŒ ë°”ë§Œ í‘œì‹œ (í•˜ë‹¨ 50px)

### 5. ESC í‚¤ (PCë§Œ)

```gdscript
# ConstructionManagerì—ì„œë§Œ ì²˜ë¦¬
# ë©”ë‰´ ìƒíƒœëŠ” ë³€ê²½ ì—†ìŒ
```

**ê²°ê³¼:**
- ê±´ì„¤ ëª¨ë“œ ì·¨ì†Œ (ë¯¸ë¦¬ë³´ê¸° ì‚¬ë¼ì§)
- ë©”ë‰´ëŠ” í˜„ì¬ ìƒíƒœ ìœ ì§€

---

## ğŸ¨ ë¹„ì£¼ì–¼ ë””ìì¸

### ì ‘íŒ ë°” (CollapsedBar)

```
ì „ì²´ í™”ë©´ ë„ˆë¹„
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê±´ì„¤ â–²                            â”‚ â† ë†’ì´: 50px
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìŠ¤íƒ€ì¼:**
- ë°°ê²½: ë°˜íˆ¬ëª… ê²€ì€ìƒ‰ (`Color(0, 0, 0, 0.7)`)
- ë²„íŠ¼: í°ìƒ‰ í…ìŠ¤íŠ¸, ì™¼ìª½ ì •ë ¬
- ë²„íŠ¼ í¬ê¸°: (120, 50)
- ì•„ì´ì½˜: â–² (ìœ„ìª½ í™”ì‚´í‘œ)

### í¼ì³ì§„ íŒ¨ë„ (ExpandedPanel)

```
ì „ì²´ í™”ë©´ ë„ˆë¹„
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ê±´ì„¤ ë©”ë‰´                 â–¼ ì ‘ê¸°   â”‚ â† í—¤ë” (40px)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ğŸ   â”‚ â”‚ ğŸŒ¾  â”‚ â”‚ ğŸª  â”‚ â”‚ ğŸ›¤ï¸  â”‚  â”‚ â† ë²„íŠ¼ ì˜ì—­
â”‚ â”‚ì£¼íƒ â”‚ â”‚ë†ì¥ â”‚ â”‚ìƒì  â”‚ â”‚ë„ë¡œ â”‚  â”‚   (160px)
â”‚ â”‚100ğŸ’°â”‚ â”‚150ğŸ’°â”‚ â”‚200ğŸ’°â”‚ â”‚ 50ğŸ’°â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â† ê°€ë¡œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥ â†’      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ì´ ë†’ì´: 200px
```

**ìŠ¤íƒ€ì¼:**

**Header:**
- ë°°ê²½: ë°˜íˆ¬ëª… ê²€ì€ìƒ‰ (`Color(0, 0, 0, 0.8)`)
- ë†’ì´: 40px
- TitleLabel: í°ìƒ‰, í°íŠ¸ í¬ê¸° 18
- CollapseButton: ìš°ì¸¡ ì •ë ¬, í¬ê¸° (100, 40)

**BuildingButton:**
- í¬ê¸°: 100x120 (ì„¸ë¡œë¡œ ê¸´ ë²„íŠ¼)
- ë°°ê²½: ë°˜íˆ¬ëª… íšŒìƒ‰ (`Color(0.3, 0.3, 0.3, 0.9)`)
- í…Œë‘ë¦¬: í°ìƒ‰ 2px
- ë ˆì´ì•„ì›ƒ:
  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   ğŸ     â”‚ â† ì•„ì´ì½˜ (64x64)
  â”‚  ì£¼íƒ   â”‚ â† ì´ë¦„
  â”‚ ê¸ˆí™”100 â”‚ â† ë¹„ìš©
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```
- Hover/Press: ë…¸ë€ìƒ‰ í…Œë‘ë¦¬ (`Color(1, 1, 0, 1)`)

**ScrollContainer:**
- ë°°ê²½: íˆ¬ëª…
- ìŠ¤í¬ë¡¤ë°”: ë°˜íˆ¬ëª… í°ìƒ‰

---

## ğŸ“± ëª¨ë°”ì¼ ìµœì í™”

### í„°ì¹˜ ì˜ì—­

**ìµœì†Œ í„°ì¹˜ í¬ê¸°: 48x48 (ê¶Œì¥)**

- ExpandButton: 120x50 âœ…
- CollapseButton: 100x40 âš ï¸ â†’ **100x50ìœ¼ë¡œ ìˆ˜ì •**
- BuildingButton: 100x120 âœ…

### ìŠ¤í¬ë¡¤

```gdscript
# ScrollContainer ì„¤ì •
- Horizontal Scroll Enabled: true
- Scroll Deadzone: 0  # ì¦‰ì‹œ ë°˜ì‘
- Follow Focus: true  # ì„ íƒëœ ë²„íŠ¼ ë”°ë¼ê°€ê¸°
```

**ëª¨ë°”ì¼ ì œìŠ¤ì²˜:**
- ì¢Œìš° ìŠ¤ì™€ì´í”„: ê±´ë¬¼ ëª©ë¡ ìŠ¤í¬ë¡¤
- íƒ­: ë²„íŠ¼ ì„ íƒ

### í•´ìƒë„ ëŒ€ì‘

**ê¸°ì¤€ í•´ìƒë„: 1280x720 (16:9)**

```gdscript
# ë™ì  í¬ê¸° ì¡°ì •
func _ready():
    var viewport_size = get_viewport_rect().size

    # í™”ë©´ ë„ˆë¹„ì˜ 25%ë¥¼ ë²„íŠ¼ ë„ˆë¹„ë¡œ
    var button_width = viewport_size.x * 0.25
    button_width = clamp(button_width, 80, 150)  # ìµœì†Œ/ìµœëŒ€ ì œí•œ

    for button in building_list.get_children():
        button.custom_minimum_size.x = button_width
```

**ì„¸ë¡œ ëª¨ë“œ (Portrait):**
- í¼ì³ì§„ ë†’ì´: 250px (ë” ë†’ê²Œ)
- ë²„íŠ¼ 2ì¤„ ë°°ì¹˜ ê°€ëŠ¥

**ê°€ë¡œ ëª¨ë“œ (Landscape):**
- í¼ì³ì§„ ë†’ì´: 200px
- ë²„íŠ¼ 1ì¤„ ê°€ë¡œ ìŠ¤í¬ë¡¤

---

## ğŸ”§ êµ¬í˜„ ë‹¨ê³„

### Step 1: ë…¸ë“œ êµ¬ì¡° ìƒì„± (Godot ì—ë””í„°)

**ê¸°ì¡´ êµ¬ì¡° ì‚­ì œ:**
1. `construction_menu.tscn` ì—´ê¸°
2. ê¸°ì¡´ Panel ë…¸ë“œ ì‚­ì œ

**ìƒˆ êµ¬ì¡° ì¶”ê°€:**

```
1. ConstructionMenu (Control)
   - Layout: Full Rect

2. CollapsedBar (Panel) ì¶”ê°€
   - Layout: Bottom
   - Anchor: Left=0, Right=1, Top=1, Bottom=1
   - Offset: Top=-50, Bottom=0
   - í¬ê¸°: ìë™ (í™”ë©´ ë„ˆë¹„ x 50)

3. ExpandButton (Button) ì¶”ê°€ (CollapsedBar ìì‹)
   - Text: "ê±´ì„¤ â–²"
   - Size: (120, 50)
   - Alignment: Left

4. ExpandedPanel (Panel) ì¶”ê°€
   - Layout: Bottom
   - Anchor: Left=0, Right=1, Top=1, Bottom=1
   - Offset: Top=-200, Bottom=0
   - Visible: false

5. Header (HBoxContainer) ì¶”ê°€ (ExpandedPanel ìì‹)
   - Size: (í™”ë©´ ë„ˆë¹„, 40)

6. TitleLabel (Label) + CollapseButton (Button) ì¶”ê°€

7. Content (VBoxContainer) ì¶”ê°€

8. ScrollContainer (ScrollContainer) ì¶”ê°€
   - Horizontal Enabled: true
   - Vertical Enabled: false

9. BuildingList (HBoxContainer) ì¶”ê°€
   - Separation: 10

10. ê±´ë¬¼ ë²„íŠ¼ 4ê°œ ì¶”ê°€ (HouseButton, FarmButton, etc.)
    - Custom Minimum Size: (100, 120)
```

### Step 2: ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±

**íŒŒì¼:** `scripts/ui/construction_menu.gd`

```gdscript
# scripts/ui/construction_menu.gd
extends Control

# ë…¸ë“œ ì°¸ì¡°
@onready var collapsed_bar: Panel = $CollapsedBar
@onready var expanded_panel: Panel = $ExpandedPanel
@onready var expand_button: Button = $CollapsedBar/ExpandButton
@onready var collapse_button: Button = $ExpandedPanel/Header/CollapseButton

@onready var building_list: HBoxContainer = $ExpandedPanel/Content/ScrollContainer/BuildingList
@onready var house_button: Button = $ExpandedPanel/Content/ScrollContainer/BuildingList/HouseButton
@onready var farm_button: Button = $ExpandedPanel/Content/ScrollContainer/BuildingList/FarmButton
@onready var shop_button: Button = $ExpandedPanel/Content/ScrollContainer/BuildingList/ShopButton

# ìƒíƒœ
var is_expanded: bool = false

func _ready():
    # ì‹œê·¸ë„ ì—°ê²°
    expand_button.pressed.connect(_on_expand_button_pressed)
    collapse_button.pressed.connect(_on_collapse_button_pressed)

    house_button.pressed.connect(_on_house_button_pressed)
    farm_button.pressed.connect(_on_farm_button_pressed)
    shop_button.pressed.connect(_on_shop_button_pressed)

    # ì´ˆê¸° ìƒíƒœ: ì ‘í˜
    _set_collapsed()

    # ëª¨ë°”ì¼ ìµœì í™”
    _optimize_for_mobile()

    print("[UI] ConstructionMenu ì¤€ë¹„ (í•˜ë‹¨ ë°” ìŠ¤íƒ€ì¼)")

# ëª¨ë°”ì¼ ìµœì í™”
func _optimize_for_mobile():
    var viewport_size = get_viewport_rect().size

    # ë²„íŠ¼ í¬ê¸° ë™ì  ì¡°ì • (í™”ë©´ ë„ˆë¹„ ê¸°ì¤€)
    var button_width = viewport_size.x * 0.22  # í™”ë©´ì˜ 22%
    button_width = clamp(button_width, 80, 150)  # ìµœì†Œ 80, ìµœëŒ€ 150

    for button in building_list.get_children():
        if button is Button:
            button.custom_minimum_size.x = button_width
            button.custom_minimum_size.y = 120

# í¼ì¹˜ê¸°
func _on_expand_button_pressed():
    _set_expanded()

# ì ‘ê¸°
func _on_collapse_button_pressed():
    _set_collapsed()

# ìƒíƒœ ë³€ê²½: í¼ì¹¨
func _set_expanded():
    is_expanded = true
    collapsed_bar.visible = false
    expanded_panel.visible = true

    # ì• ë‹ˆë©”ì´ì…˜ (ì˜µì…˜)
    _animate_slide_up()

    print("[UI] ë©”ë‰´ í¼ì¹¨")

# ìƒíƒœ ë³€ê²½: ì ‘í˜
func _set_collapsed():
    is_expanded = false
    collapsed_bar.visible = true
    expanded_panel.visible = false
    print("[UI] ë©”ë‰´ ì ‘í˜")

# ìŠ¬ë¼ì´ë“œ ì• ë‹ˆë©”ì´ì…˜ (ì˜µì…˜)
func _animate_slide_up():
    # ì•„ë˜ì—ì„œ ìœ„ë¡œ ìŠ¬ë¼ì´ë“œ
    expanded_panel.position.y = 200
    var tween = create_tween()
    tween.set_ease(Tween.EASE_OUT)
    tween.set_trans(Tween.TRANS_CUBIC)
    tween.tween_property(expanded_panel, "position:y", 0, 0.3)

# ê±´ë¬¼ ì„ íƒ
func _on_house_button_pressed():
    var house_data = load("res://scripts/resources/house_01.tres") as BuildingData
    ConstructionManager.select_building(house_data)
    # â­ ë©”ë‰´ ìœ ì§€ (ë‹«ì§€ ì•ŠìŒ)
    print("[UI] ì£¼íƒ ì„ íƒ")

func _on_farm_button_pressed():
    var farm_data = load("res://scripts/resources/farm_01.tres") as BuildingData
    ConstructionManager.select_building(farm_data)
    print("[UI] ë†ì¥ ì„ íƒ")

func _on_shop_button_pressed():
    print("[UI] ìƒì  (ë¯¸êµ¬í˜„)")

# ì™¸ë¶€ì—ì„œ ë©”ë‰´ í† ê¸€ (ì˜µì…˜)
func toggle_menu():
    if is_expanded:
        _set_collapsed()
    else:
        _set_expanded()

# â­ B í‚¤ ì…ë ¥ ì œê±°! (í† ê¸€ ë¶ˆí•„ìš”)
# ëª¨ë°”ì¼ì—ì„œëŠ” í‚¤ë³´ë“œ ì…ë ¥ ì—†ìŒ
```

### Step 3: ë²„íŠ¼ ë””ìì¸ (VBoxContainer ì‚¬ìš©)

**BuildingButton êµ¬ì¡°:**

```
BuildingButton (Button)
â””â”€â”€ VBoxContainer (VBoxContainer)
    â”œâ”€â”€ IconTexture (TextureRect, 64x64)
    â”œâ”€â”€ NameLabel (Label, "ì£¼íƒ")
    â””â”€â”€ CostLabel (Label, "ğŸ’° 100")
```

**Godot ì—ë””í„° ì„¤ì •:**

```
1. HouseButton ì„ íƒ
2. Add Child Node â†’ VBoxContainer
3. VBoxContainerì— ìì‹ ì¶”ê°€:
   - TextureRect (ì•„ì´ì½˜)
   - Label (ì´ë¦„)
   - Label (ë¹„ìš©)
4. VBoxContainer ì„¤ì •:
   - Alignment: Center
   - Separation: 5
```

**ìŠ¤íƒ€ì¼ (Theme Override):**

```gdscript
# Inspector â†’ Theme Overrides:

# Button:
- Colors â†’ Font Color: #FFFFFF
- Colors â†’ Font Hover Color: #FFFF00
- Styles â†’ Normal: StyleBoxFlat (ë°°ê²½ íšŒìƒ‰)
- Styles â†’ Hover: StyleBoxFlat (í…Œë‘ë¦¬ ë…¸ë€ìƒ‰)

# Labels:
- Font Size: 14
- Alignment: Center
```

### Step 4: í…ŒìŠ¤íŠ¸

**PC í…ŒìŠ¤íŠ¸:**
1. F5 ì‹¤í–‰
2. "ê±´ì„¤ â–²" í´ë¦­ â†’ ë©”ë‰´ í¼ì³ì§
3. ì£¼íƒ ë²„íŠ¼ í´ë¦­ â†’ ê±´ì„¤ ëª¨ë“œ ì§„ì…
4. "â–¼ ì ‘ê¸°" í´ë¦­ â†’ ë©”ë‰´ ì ‘í˜

**ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸ (ì—ë®¬ë ˆì´í„°):**
1. í”„ë¡œì íŠ¸ ì„¤ì • â†’ Display â†’ Window â†’ Size: 720x1280 (ì„¸ë¡œ)
2. í„°ì¹˜ ì‹œë®¬ë ˆì´ì…˜ í™œì„±í™”
3. ìŠ¤í¬ë¡¤ ë™ì‘ í™•ì¸
4. ë²„íŠ¼ í„°ì¹˜ ë°˜ì‘ í™•ì¸

---

## ğŸ“‹ ë¹„êµí‘œ

| ê¸°ëŠ¥ | ê¸°ì¡´ (B í‚¤ í† ê¸€) | ìƒˆ ë°©ì‹ (í•˜ë‹¨ ë°”) |
|------|------------------|-------------------|
| ë©”ë‰´ ì—´ê¸° | B í‚¤ | "ê±´ì„¤ â–²" ë²„íŠ¼ í´ë¦­/í„°ì¹˜ |
| ë©”ë‰´ ë‹«ê¸° | B í‚¤ | "â–¼ ì ‘ê¸°" ë²„íŠ¼ í´ë¦­/í„°ì¹˜ |
| ìœ„ì¹˜ | í™”ë©´ ì¤‘ì•™ | í™”ë©´ í•˜ë‹¨ |
| ì´ˆê¸° ìƒíƒœ | ìˆ¨ê¹€ | ì ‘íŒ ë°” ë³´ì„ (50px) |
| ê±´ë¬¼ ì„ íƒ í›„ | ë©”ë‰´ ë‹«í˜ | ë©”ë‰´ ìœ ì§€ |
| í™”ë©´ ê°€ë¦¼ | ì¤‘ì•™ ê°€ë¦¼ | í•˜ë‹¨ë§Œ ê°€ë¦¼ |
| PC ì§€ì› | í‚¤ë³´ë“œ í•„ìš” | ë§ˆìš°ìŠ¤ë§Œ |
| ëª¨ë°”ì¼ ì§€ì› | âŒ ë¶ˆê°€ëŠ¥ | âœ… í„°ì¹˜ ê°€ëŠ¥ |
| ê°€ë¡œ ìŠ¤í¬ë¡¤ | âŒ ì—†ìŒ | âœ… ê±´ë¬¼ ë§ì•„ë„ OK |

---

## âœ… ê°œì„  íš¨ê³¼

### 1. ëª¨ë°”ì¼ í˜¸í™˜ì„± â­
- âœ… í„°ì¹˜ ì¡°ì‘ ìµœì í™”
- âœ… ìŠ¤ì™€ì´í”„ë¡œ ìŠ¤í¬ë¡¤
- âœ… ìµœì†Œ í„°ì¹˜ í¬ê¸° ì¤€ìˆ˜ (48x48)
- âœ… ì„¸ë¡œ/ê°€ë¡œ ëª¨ë“œ ëª¨ë‘ ëŒ€ì‘

### 2. ì ‘ê·¼ì„± í–¥ìƒ
- âœ… ë©”ë‰´ê°€ í•­ìƒ í™”ë©´ì— ë³´ì„ (ë°” í˜•íƒœ)
- âœ… ë‹¨ì¶•í‚¤ ë¶ˆí•„ìš” (ë²„íŠ¼ë§Œ)

### 3. í™”ë©´ í™œìš©
- âœ… ì ‘íŒ ìƒíƒœ: í•˜ë‹¨ 50pxë§Œ ì°¨ì§€
- âœ… í¼ì³ì§„ ìƒíƒœ: í•˜ë‹¨ 200px
- âœ… ê²Œì„ í™”ë©´ ëŒ€ë¶€ë¶„ í™•ë³´

### 4. UX ê°œì„ 
- âœ… ê±´ë¬¼ ì„ íƒ í›„ì—ë„ ë©”ë‰´ ìœ ì§€ â†’ ë¹ ë¥¸ ë³€ê²½
- âœ… ê°€ë¡œ ìŠ¤í¬ë¡¤ë¡œ ë¬´í•œ í™•ì¥ ê°€ëŠ¥
- âœ… ì§ê´€ì ì¸ ë²„íŠ¼ ì¡°ì‘

### 5. í™•ì¥ì„±
- âœ… ê±´ë¬¼ 100ê°œ ì¶”ê°€í•´ë„ ê°€ë¡œ ìŠ¤í¬ë¡¤ë¡œ í•´ê²°
- âœ… ì¹´í…Œê³ ë¦¬ íƒ­ ì¶”ê°€ ê°€ëŠ¥ (í—¤ë”ì—)

---

## ğŸ“± ëª¨ë°”ì¼ ì „ìš© ì¶”ê°€ ê¸°ëŠ¥ (ì˜µì…˜)

### 1. ì œìŠ¤ì²˜ ì§€ì›

```gdscript
# ìœ„ë¡œ ìŠ¤ì™€ì´í”„ â†’ ë©”ë‰´ í¼ì¹¨
# ì•„ë˜ë¡œ ìŠ¤ì™€ì´í”„ â†’ ë©”ë‰´ ì ‘í˜

var swipe_start: Vector2 = Vector2.ZERO
var swipe_threshold: float = 50.0

func _input(event):
    if event is InputEventScreenTouch:
        if event.pressed:
            swipe_start = event.position
        else:
            var swipe_delta = event.position.y - swipe_start.y

            if swipe_delta < -swipe_threshold:
                # ìœ„ë¡œ ìŠ¤ì™€ì´í”„
                _set_expanded()
            elif swipe_delta > swipe_threshold:
                # ì•„ë˜ë¡œ ìŠ¤ì™€ì´í”„
                _set_collapsed()
```

### 2. í–…í‹± í”¼ë“œë°± (ì§„ë™)

```gdscript
func _on_house_button_pressed():
    # ëª¨ë°”ì¼ ì§„ë™ (ì§§ê²Œ)
    if OS.has_feature("mobile"):
        Input.vibrate_handheld(50)  # 50ms

    var house_data = load("res://scripts/resources/house_01.tres") as BuildingData
    ConstructionManager.select_building(house_data)
```

### 3. ë”ë¸”íƒ­ ë°©ì§€

```gdscript
var last_tap_time: float = 0.0
var double_tap_threshold: float = 0.3

func _on_house_button_pressed():
    var current_time = Time.get_ticks_msec() / 1000.0

    # ë”ë¸”íƒ­ ë°©ì§€ (0.3ì´ˆ ì´ë‚´ ì¬í´ë¦­ ë¬´ì‹œ)
    if current_time - last_tap_time < double_tap_threshold:
        return

    last_tap_time = current_time

    # ì •ìƒ ì²˜ë¦¬...
```

---

## ğŸ¯ ê³ ê¸‰ ê¸°ëŠ¥ (ì„ íƒ ì‚¬í•­)

### 1. ì¹´í…Œê³ ë¦¬ íƒ­ ì¶”ê°€

**Headerì— íƒ­ ì¶”ê°€:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ì „ì²´] [ì£¼ê±°] [ìƒì‚°] [êµ°ì‚¬]  â–¼ ì ‘ê¸°â”‚ â† ì¹´í…Œê³ ë¦¬ íƒ­
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ  ì£¼íƒ â”‚ ğŸ˜ï¸ ì•„íŒŒíŠ¸ â”‚ ...         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```gdscript
func _on_category_tab_pressed(category: BuildingData.BuildingCategory):
    # í•´ë‹¹ ì¹´í…Œê³ ë¦¬ ê±´ë¬¼ë§Œ í•„í„°ë§
    var filtered = BuildingDatabase.get_buildings_by_category(category)
    _update_building_list(filtered)
```

### 2. ê²€ìƒ‰ ê¸°ëŠ¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ê±´ì„¤ ë©”ë‰´  [ğŸ” ê²€ìƒ‰]        â–¼ ì ‘ê¸°â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
```

### 3. ì¦ê²¨ì°¾ê¸°

```gdscript
var favorites: Array[String] = []

func _on_favorite_button_pressed(building_id: String):
    if favorites.has(building_id):
        favorites.erase(building_id)
    else:
        favorites.append(building_id)

    # ì¦ê²¨ì°¾ê¸° ëª©ë¡ ê°±ì‹ 
```

---

## ğŸ”„ ê¸°ì¡´ ì½”ë“œ ì œê±° í•­ëª©

**ì‚­ì œí•  ë¶€ë¶„:**

```gdscript
# construction_menu.gdì—ì„œ ì‚­ì œ:
func _input(event):
    if event.is_action_pressed("ui_text_backspace"):  # âŒ ì‚­ì œ
        visible = !visible
```

**ì‚­ì œí•  ë…¸ë“œ:**
- ê¸°ì¡´ ì¤‘ì•™ Panel (í™”ë©´ ì¤‘ì•™ì— ìœ„ì¹˜í–ˆë˜ ê²ƒ)

---

## âœ… ì™„ë£Œ ì¡°ê±´

### PC í…ŒìŠ¤íŠ¸
- [ ] ì ‘íŒ ë°”ê°€ í™”ë©´ í•˜ë‹¨ì— ë³´ì„
- [ ] "ê±´ì„¤ â–²" í´ë¦­ â†’ ë©”ë‰´ í¼ì³ì§
- [ ] "â–¼ ì ‘ê¸°" í´ë¦­ â†’ ë©”ë‰´ ì ‘í˜
- [ ] ê±´ë¬¼ ì„ íƒ í›„ì—ë„ ë©”ë‰´ ìœ ì§€
- [ ] ê°€ë¡œ ìŠ¤í¬ë¡¤ ë™ì‘
- [ ] B í‚¤ ì…ë ¥ ì½”ë“œ ì œê±°ë¨

### ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸
- [ ] í„°ì¹˜ë¡œ í¼ì¹¨/ì ‘ê¸° ë™ì‘
- [ ] ìŠ¤ì™€ì´í”„ë¡œ ê±´ë¬¼ ëª©ë¡ ìŠ¤í¬ë¡¤
- [ ] ë²„íŠ¼ í„°ì¹˜ ì˜ì—­ ì¶©ë¶„í•¨ (ìµœì†Œ 48x48)
- [ ] ì„¸ë¡œ ëª¨ë“œì—ì„œ ì •ìƒ í‘œì‹œ
- [ ] ê°€ë¡œ ëª¨ë“œì—ì„œ ì •ìƒ í‘œì‹œ
- [ ] ë‹¤ì–‘í•œ í•´ìƒë„ì—ì„œ ë²„íŠ¼ í¬ê¸° ì ì ˆ

---

## ğŸš€ êµ¬í˜„ ì™„ë£Œ í›„

**í•˜ë‹¨ ë°” UIê°€ ì™„ì„±ë˜ë©´:**
- âœ… ì§ê´€ì ì¸ ê±´ì„¤ ë©”ë‰´ ì™„ì„±!
- âœ… ëª¨ë°”ì¼ ê²Œì„ì²˜ëŸ¼ ìì—°ìŠ¤ëŸ¬ìš´ ì¡°ì‘
- âœ… PCì™€ ëª¨ë°”ì¼ ëª¨ë‘ ì§€ì›
- âœ… ì¹´ì´ë¡œ ì†Œí”„íŠ¸ ìŠ¤íƒ€ì¼ì˜ ì¹œìˆ™í•œ UX

**ë‹¤ìŒ ë‹¨ê³„:**
1. ì¹´í…Œê³ ë¦¬ íƒ­ ì¶”ê°€
2. ê±´ë¬¼ ì •ë³´ íˆ´íŒ
3. ë¹„ìš© ë¶€ì¡± ì‹œ ë¹¨ê°„ìƒ‰ í‘œì‹œ
4. ê±´ë¬¼ ì•„ì´ì½˜ ì¶”ê°€

---

## ğŸ“š ì°¸ê³  ì´ë¯¸ì§€

**ëª¨ë°”ì¼ ê²Œì„ ì˜ˆì‹œ:**
- Clash of Clans: í•˜ë‹¨ ê±´ë¬¼ ë°”
- Hay Day: í•˜ë‹¨ ìƒì  ë°”
- ì¹´ì´ë¡œ ì†Œí”„íŠ¸ ê²Œì„: í•˜ë‹¨ ë©”ë‰´ ë°”

**ë ˆì´ì•„ì›ƒ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚
â”‚   ê²Œì„ í™”ë©´         â”‚  â† ëŒ€ë¶€ë¶„ ê²Œì„ì— í• ì• 
â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê±´ë¬¼ ê±´ë¬¼ ê±´ë¬¼      â”‚  â† í•˜ë‹¨ 150-200px
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‰ ìµœì¢… ìš”ì•½

### í•µì‹¬ ë³€ê²½ì‚¬í•­

1. **ìœ„ì¹˜**: ì¤‘ì•™ â†’ í•˜ë‹¨
2. **ì¡°ì‘**: B í‚¤ â†’ ë²„íŠ¼ í„°ì¹˜/í´ë¦­
3. **ë°°ì¹˜**: ì„¸ë¡œ â†’ ê°€ë¡œ (ìŠ¤í¬ë¡¤)
4. **í”Œë«í¼**: PC ì „ìš© â†’ PC + ëª¨ë°”ì¼
5. **ì§€ì†ì„±**: ê±´ë¬¼ ì„ íƒ í›„ ë©”ë‰´ ìœ ì§€

### ì¥ì 

- âœ… ëª¨ë°”ì¼ í˜¸í™˜
- âœ… ì§ê´€ì  ì¡°ì‘
- âœ… í™”ë©´ íš¨ìœ¨
- âœ… ë¬´í•œ í™•ì¥ ê°€ëŠ¥
- âœ… ì¹œìˆ™í•œ UX

**êµ¬í˜„ ì™„ë£Œ ì‹œ: ì¹´ì´ë¡œ ì†Œí”„íŠ¸ ìŠ¤íƒ€ì¼ì˜ í•˜ë‹¨ ë°” ê±´ì„¤ ë©”ë‰´ ì™„ì„±! ğŸŠ**
